<% if (title) { %>
<h1><%= title %></h1>
<% } else {
    res.redirect('/')
} %>

<div class="columnFlow">
    <%- messages() %>
    
    <% if (errors) { %>
        <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
        </ul>
    <% } %>

    <form class="accountForm" id="updateForm" action="/inv/update" method="post">
        <fieldset>
            <label for="classification_id">Classification</label>
            <%- classificationList %>

            <label for="inv_make">Make</label>
            <input type="text" id="inv_make" name="inv_make" value="<%=locals.inv_make%>" required>

            <label for="inv_model">Model</label>
            <input type="text" id="inv_model" name="inv_model" value="<%=locals.inv_model%>" required>

            <label for="inv_year">Year</label>
            <input type="text" id="inv_year" name="inv_year" value="<%=locals.inv_year%>" pattern="^\d{4}$" title="Please enter a valid year" required>

            <label for="inv_description">Description</label>
            <textarea name="inv_description" id="inv_description" required><%=locals.inv_description%></textarea>

            <label for="inv_image">Image</label>
            <input type="text" id="inv_image" name="inv_image" value="<%=locals.inv_image%>" required>
            
            <label for="inv_thumbnail">Thumbnail</label>
            <input type="text" id="inv_thumbnail" name="inv_thumbnail" value="<%=locals.inv_thumbnail%>" required>

            <label for="inv_price">Price</label>
            <input type="text" id="inv_price" name="inv_price" value="<%=locals.inv_price%>" pattern="^\d+$" title="Please only enter numbers" required>

            <label for="inv_miles">Miles</label>
            <input type="text" id="inv_miles" name="inv_miles" value="<%=locals.inv_miles%>" pattern="^\d+$" title="Please only enter numbers" required>

            <label for="inv_color">Color</label>
            <input type="text" id="inv_color" name="inv_color" value="<%=locals.inv_color%>" pattern="^[A-Za-z]+$" required>

            <input type="submit" name="submit" id="updateBtn" value="Add Vehicle" disabled>
            <input type="hidden" name="inv_id"
            <% if (locals.inv_id) { %> value="<%=locals.inv_id%>"
            <% } %>>
        </fieldset>
    </form>
</div>

<script src="../../js/inv-update.js"></script>